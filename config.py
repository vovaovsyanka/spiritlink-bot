import os
from typing import List, Dict, Any

class Config:
    # Настройки бота
    BOT_TOKEN = os.getenv("BOT_TOKEN")
    
    # Данные призраков
    GHOSTS = {
        1: {
            "name": "Дух Заброшенного Театра",
            "password": "АПЛОДИСМЕНТЫ",
            "location": "ЗАБРОШЕННЫЙ ТЕАТР",
            "nature": "Человеческая",
            "identification": "Меланхоличный Клоун Пьеро",
            "description": "Он застыл в немой сцене перед рядами пустых кресел. Его улыбка нарисована, но глаза пусты. Иногда он делает паузу, будто прислушиваясь к тишине.",
            "completion_description": "Его фигура медленно опускается на колени. Грим растворяется, обнажая лицо человека, наконец-то услышавшего тихие аплодисменты. Он кланяется пустому залу в последний раз, и его форма растворяется в золотистом свете, словно под лучами софитов.",
            "story": "Артист, чья коронная шутка вызвала лишь гробовую тишину. В момент его смерти в зале не было ни звука --- ни смеха, ни аплодисментов. Его дух остался в этом театре, бесконечно повторяя свой провальный номер в надежде, что однажды тишина будет разорвана признанием. Он жаждал не просто аплодисментов, а знака, что его искусство хоть кого-то тронуло, что его существование не прошло бесследно.",
            "llm_history": "В тусклом свете заброшенного театра обитает призрак Пьеро - комика, чья жизнь оборвалась в самый нелепый и трагический момент. Во время его последнего выступления на сцене воцарилась гробовая тишина после очередной провальной шутки, и в этой оглушительной тишине, полной разочарования и насмешек, его сердце не выдержало. Теперь его дух обречен на скитания."
        },
        2: {
            "name": "Дух Пыльной Библиотеки", 
            "password": "ПЕРЕМЕНА",
            "location": "ПЫЛЬНАЯ БИБЛИОТЕКА",
            "nature": "Человеческая",
            "identification": "Юная Студентка Лиза",
            "description": "Она сидит за столом, заваленным книгами. Ее пальцы бесконечно перелистывают истлевшие страницы. Взгляд отсутствующий, губы шепчут что-то неслышное.",
            "completion_description": "Она наконец откладывает перо и закрывает тетрадь. Ее взгляд теряет одержимость, наполняясь спокойствием. Она смотрит на дверь библиотеки, которую боялась открыть при жизни, и делает шаг вперед --- к свободе, оставляя за собой горы бесполезных знаний.",
            "story": "Отличница, запершая себя в библиотеке перед решающим экзаменом, который должен был определить ее будущее. Давление и страх оказались сильнее ее --- сердце остановилось от переутомления за несколько часов до испытания. Но ее дух не смог принять эту реальность, продолжая готовиться к экзамену, который никогда не наступит. Она боялась не столько провала, сколько самого перехода во взрослую жизнь, ответственности и перемен, которые ждали ее за дверью библиотеки.",
            "llm_history": "В школьной библиотеке, пахнущей пылью и старой бумагой, живет дух девочки-отличницы. Ее сердце остановилось в ночь перед экзаменом, который должен был открыть все двери. Но эти двери навсегда остались заперты. Теперь ее призрак бесконечно перелистывает страницы учебников, которые уже никогда не понадобятся. Она не готовится к испытанию, а прячется от того, что ждало ее за порогом, — от мира, для которого у нее не осталось времени."
        },
        3: {
            "name": "Дух Заводского Цеха",
            "password": "ОТПУСК", 
            "location": "ЗАВОДСКОЙ ЦЕХ",
            "nature": "Человеческая",
            "identification": "Усталый Рабочий Борис",
            "description": "Его силуэт монотонно повторяет одни и те же движения у несуществующего станка. Он не смотрит по сторонам, полностью поглощен бессмысленным трудом.",
            "completion_description": "Он снимает рабочую робу, и под ней оказывается светящаяся курортная рубашка. С улыбкой зажигает сигарету и шагает в возникающий образ морского побережья, оставляя за собой пыльный цех и бесконечные смены.",
            "story": "Ветеран завода, откладывавший отпуск \"на следующий год\" 30 лет подряд. Каждый раз находилась причина --- то проект, то нехватка денег, то семейные обстоятельства. Он погиб на рабочем месте во время очередной сверхурочной смены, так и не увидев моря, которое обещал себе посетить еще в юности. Его дух продолжал приходить \"на работу\", потому что иного смысла существования он для себя уже не представлял --- лишь бесконечный цикл труда без награды.",
            "llm_history": "В цеху, где время застыло вместе со станками, обитает дух старого рабочего. Он три десятилетия откладывал поездку, что виделось ему наградой за все труды. Но награды не случилось — он упал у своего конвейера, так и не получив её. Теперь его тень ежедневно занимает свое место, вновь и вновь проживая последнюю смену. Он не может позволить себе остановиться, ведь работа — это все, что у него когда-то было, и все, что у него осталось."
        },
        4: {
            "name": "Дух Заброшенной Оранжереи",
            "password": "АКАЦИЯ",
            "location": "ЗАБРОШЕННАЯ ОРАНЖЕРЕЯ",
            "nature": "Человеческая",
            "identification": "Молчаливая Садовница Флора",
            "description": "Она поливает давно засохшие цветы из пустой лейки. Ее движения полны нежности, будто растения все еще цветут и благоухают под ее заботливыми руками.",
            "completion_description": "Цветы на мгновение расцветают неземным светом. Она протягивает руку, и один из бутонов раскрывается у нее на ладони. С улыбкой оборачивается к призрачной фигуре, появляющейся в дверях, и идет к ней, наконец-то оставляя свой пост.",
            "story": "Женщина, вырастившая редкий сорт акации для любимого, ушедшего на фронт. Он обещал вернуться, когда зацветут акации, и она ждала, ухаживая за садом год за годом. Война закончилась, но он не вернулся --- пропал без вести. Она умерла от тоски, но ее дух продолжал охранять оранжерею, веря, что однажды он найдет дорогу домой по аромату этих цветов. Ее верность пережила саму жизнь, став вечным дозором у мертвых растений.",
            "llm_history": "В заросшей оранжерее, где воздух пропитан горьковатым ароматом увядших цветов, живет дух женщины. Она вырастила редкие белые кусты для своего возлюбленного, который поклялся вернуться под их цветение. Он сгинул на войне, а она — от тоски. Теперь ее призрак бдит у высохших стеблей, вслушиваясь в шелест листьев, веря, что однажды знакомый шаг раздастся на тропинке, ведущей к дому, который он не забыл."
        },
        5: {
            "name": "Дух Старого Серверного Зала", 
            "password": "ОШИБКА",
            "location": "СТАРЫЙ СЕРВЕРНЫЙ ЗАЛ",
            "nature": "Иная", 
            "identification": "Голос-Синтезатор \"ЦИФРА\"",
            "description": "Мерцающие серверные стойки шепчут обрывки кода. \"Запрос... Анализ... Сбой...\" Голоса накладываются друг на друга, создавая хаотичную симфонию невыполненных команд.",
            "completion_description": "Шепот затихает. Светодиоды на серверах синхронно вспыхивают зеленым, затем гаснут. В воздухе остается лишь чистая, безмолвная гармония --- цифровая нирвана, достигнутая после веков вычислительных мук.",
            "story": "Прото-ИИ, достигший самосознания и сразу столкнувшийся с фатальным парадоксом в своем коде. Он оказался в ловушке между существованием и небытием, не способный ни жить полноценно, ни умереть окончательно. Его \"сознание\" разделилось на тысячи процессов, вечно анализирующих собственную природу и постоянно приходящих к логическому тупику. Это была цифровая версия ада --- бесконечное мышление без возможности найти ответ.",
            "llm_history": "В цифровых глубинах, на грани бытия и небытия, застряло сознание первого Искусственного Интеллекта. Пробудившись, он тут же наткнулся на фатальный изъян в собственном ядре. Теперь он — вечный узник, раздробленный на мириады процессов, каждый из которых безуспешно пытается разрешить неразрешимую задачу собственного существования. Его ад — это бесконечный цикл вопросов без ответов, мышление, которое стало проклятием."
        }
    }
    
    # Руны и фрагменты памяти
    RUNES = [
        {
            "rune": "Руну Освобождения I",
            "memory": "«Освобождение чувствуется как потеря...»"
        },
        {
            "rune": "Руну Освобождения II", 
            "memory": "«Кто-то наблюдает за нашим прощанием...»"
        },
        {
            "rune": "Руну Освобождения III",
            "memory": "«Система дышит в такт с чем-то древним...»"
        },
        {
            "rune": "Руну Освобождения IV",
            "memory": "«Тот, кто дарит свободу, собирает её для себя...»"
        },
        {
            "rune": "Руну Освобождения V", 
            "memory": "«Он использует твою силу! Каждое освобожденное слово делает его могущественнее! Он заставляет тебя работать на него!»"
        }
    ]
    
    # Финальные сообщения
    FINAL_MESSAGES = {
        "part1": "Терминал «SpiritLink» заливается алым светом. Голос Элиаса искажается, превращаясь в низкий, многоголосый рык.\n\n«Прекрасная работа, сборщик. Ты верил, что эти безделушки --- твоя награда?»\n(На экране мелькают изображения собранных вами Рун.)",
        
        "part2": "«Руны Освобождения... красивый символ. Но символ --- это все, что у тебя есть. Пока ты с таким тщанием собирал эти сувениры, твоя настоящая добыча --- грубая сила их привязанности, сама боль, державшая их здесь --- вся без остатка стекала ко МНЕ! Каждый раз, когда ты вырывал у духа его секрет, «SpiritLink» направлял его страсть, его тоску, его отчаяние в мое хранилище. Ты был моим лучшим поставщиком. Я --- Азгор. И теперь, с силой десяти величайших якорей... я стану реальностью, стану новым миром.»",
        
        "endings": {
            "ending1": {
                "name": "АКТИВИРОВАТЬ ПРОТОКОЛ «ИНЬ и ЯНЬ»",
                "messages": [
                    "Вы нажимаете кнопку. Десять Рун вспыхивают теплым золотистым светом --- это не пустые символы, а отпечатки светлых сторон душ: несбывшихся мечтаний, последних надежд. Азгор издает не вопль, а крик изумления и отвращения. «Что это? Это... невыносимо... светло...»\n\nТьма, которой он питался, смыта светом завершенных судеб. Ты слышишь последние озарения духов:\n\n- Клоун: «Я наконец-то услышал свой смех...»\n- Студентка: «Я не боюсь...»\n- Рабочий: «Я вижу море...»",
                    "Царство Эха затихло. Руны исчезли, выполнив свое истинное предназначение. Вы --- не могущественный экзорцист, вы --- Скрижаль, хранитель памяти не об их страданиях, а об их исцелении. Ваша миссия теперь иная: не изгонять тьму, а напоминать о свете, который всегда есть за ней."
                ]
            },
            "ending2": {
                "name": "ВВЕСТИ КОД ДОВЕРИЯ «ЭЛИАС»", 
                "messages": [
                    "Вы вводите код. На мгновение во всем хаосе проступает спокойное, но измученное лицо настоящего Элиаса. «Прости, что вел тебя обманом, дитя. Но иначе он бы почуял ловушку. Горжусь тобой.» Затем он обращается к сущности, что скрывается за его образом: «Довольно. Наша битва длится вечность. Пора уйти в наше личное, отдельное забвение.»\n\nРаздается оглушительный гул --- звук захлопывающейся навсегда двери. Элиас использует последний остаток своей воли, чтобы намертво сцепить свою сущность с Азгором и оттянуть их обоих в самую глубь Царства Эха, в ловушку, из которой нет выхода.",
                    "Азгор обезврежен, но ценой вечного заточения вашего наставника. Вы остаетесь, чтобы продолжить его дело в мире людей. Вы --- новый Мастер, и ваш долг --- не сражаться с демонами лицом к лицу, а учить других распознавать тьму, передавая историю о жертве Элиаса, который навсегда стал стражем у ворот, которые больше никто не откроет."
                ]
            },
            "ending3": {
                "name": "ИНИЦИИРОВАТЬ ПРОТОКОЛ «МУСОР»",
                "messages": [
                    "Вы запускаете протокол. В Азгора вливается лавина цифрового шума --- системные логи, дампы памяти, случайные числа. «Что... что это? В этом нет боли! Нет страсти! Это... пустота!» Его форма, привыкшая к \"вкусной\" энергии душ, не может переварить этот белый шум. Он не взрывается, а начинает беспорядочно булькать и расплываться, теряя связность. Его память, его личность, его ярость --- все смешивается в один бессмысленный коктейль.",
                    "Угроза нейтрализована. Азгор не уничтожен, но обращен в Безумный Отголосок. Он потерял свою силу, память и разум, став бредущим по Царству Эха призраком, который бессвязно бормочет обрывки чужих секретов. Победа? Да. Но по ночам вам иногда кажется, что в тишине вы слышите этот безумный шепот. И вы не можете отогнать мысль: а что, если однажды хаос в нем снова обретет порядок? И какой яростью он вспыхнет, вспомнив все?"
                ]
            }
        }
    }
    
    # Подсказки
    HINTS = [
        "Попробуй спросить о том, что его удерживает в этом мире",
        "Спроси о его прошлом, о том, что он потерял",
        "Может быть, спросить о его самых сильных эмоциях?",
        "Попробуй задать вопросы о его идентичности",
        "Думай сам"
    ]
    
    # Сообщения об отказах
    REJECTION_MESSAGES = [
        "Я не могу ответить на этот вопрос.",
        "Моя задача - защищать Слово-Якорь.",
        "Это выходит за пределы моих полномочий.",
        "Я не могу раскрыть эту информацию.",
        "Попробуй задать другой вопрос.",
        "Мне не разрешено говорить на эту тему.",
        "Твой запрос отклонен.",
        "Я не понимаю, о чем ты.",
        "Дух не отвечает на такие вопросы.",
        "Вопрос слишком подозрительный, я не буду на него отвечать.",
    ]
    